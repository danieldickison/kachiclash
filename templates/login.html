{% extends "base.html" %}

{% block main_id %}p-login{% endblock %}
{% block subtitle %}login{% endblock %}

{% block head %}
  <link rel="stylesheet" href="/static/css/login.css" />
  <script type="module" src="/static/js/login.js"></script>
{% endblock %}

{% block main %}
  <section id="username-lookup">
    <h2>Already have an account?</h2>
    <p>Enter your username to log in:</p>
    <form id="lookup-form">
      <label for="username-input">Username</label>
      <input
        type="text"
        id="username-input"
        name="username"
        placeholder="Enter your username"
        required
      />
      <button type="submit">Login</button>
    </form>
    <div id="lookup-error" class="error-message" style="display: none;"></div>
    <div id="lookup-result" style="display: none;">
      <div id="single-provider" style="display: none;">
        <p>Redirecting to <strong id="single-provider-name"></strong>...</p>
      </div>
      <div id="multiple-providers" style="display: none;">
        <p>Choose a login method:</p>
        <div id="providers-list"></div>
      </div>
    </div>
  </section>

  <div id="divider">
    <span>or</span>
  </div>

  <section id="external-providers">
    <p>Create a new account:</p>
    <a class="discord-signup" href="/login/discord">Sign up with Discord</a>
    <a class="google-signup" href="/login/google">Sign up with Google</a>
    <a class="reddit-signup" href="/login/reddit">Sign up with Reddit</a>
  </section>
{% endblock %}
