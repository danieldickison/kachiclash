{% extends "base.html" %}

{% block main_id %}p-heya{% endblock %}

{% block subtitle %}
  {{heya.name}}
{% endblock %}

{% block head %}
  <script src="/static/js/heya.js" type="module"></script>
  {% if base.is_admin() || is_oyakata %}
    <script src="/static/js/heya-admin.js" type="module"></script>
  {% endif %}
  <link rel="stylesheet" href="/static/css/heya.css" />
{% endblock %}

{% block main %}
  <h1>{{heya.name}}</h1>

  {% match heya.oyakata() %}
  {% when Some with (oyakata) %}
    <h2>Oyakata: {{oyakata.render().unwrap()|safe}}</h2>
  {% when None %}
  {% endmatch %}

  <h2>Members</h2>
  <ul>
    {% for member in heya.members.as_ref().unwrap() %}
      <li>{{member.render().unwrap()|safe}}</li>
    {% endfor %}
  </ul>
{% endblock %}
